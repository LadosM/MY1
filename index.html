<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ–∞–¥–æ—Å-–ú–µ–±–µ–ª—å | –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è –∫–æ–º–ø–∞–Ω–∏—è</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        body { font-family: sans-serif; margin: 0; padding: 0; line-height: 1.6; }
        header { background-color: #6D2327; color: white; text-align: center; padding: 20px; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        h1, h2 { margin: 0; }
        main { padding: 20px; max-width: 800px; margin: 0 auto; }
        .section { margin-bottom: 40px; }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ñ–æ—Ä–º—ã */
        .order-form {
            background-color: #f9f9f9;
            border: 2px solid #6D2327;
            padding: 20px;
            border-radius: 8px;
        }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, textarea { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; }
        button {
            background-color: #6D2327;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover { background-color: #8a2e32; }
    </style>
</head>
<body>

    <header>
        <img src="logo.png" alt="–õ–æ–≥–æ—Ç–∏–ø" width="400" style="margin-bottom: 10px;">
        <h1 style="color: #000000;">–ë–æ–ª–µ–µ 30 –ª–µ—Ç –∏–∑–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –ú–ï–ë–ï–õ–¨ & –§–ê–°–ê–î–´</h1>
    </header>

    <main>
        <section class="section">
            <h2>–û –Ω–∞—Å</h2>
            <p>–ú—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –º–µ–±–µ–ª—å–Ω—ã–µ —Ñ–∞—Å–∞–¥—ã –∏ –∫–æ—Ä–ø—É—Å–Ω—É—é –º–µ–±–µ–ª—å –ª—é–±–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏. –°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ 5000 –º¬≤.</p>
        </section>

        <section class="section">
            <div class="order-form">
                <h2 style="color: #6D2327; margin-bottom: 15px;">–ó–∞–∫–∞–∑–∞—Ç—å —Ä–∞—Å—á–µ—Ç</h2>
                <form id="furniture-form">
                    <div class="form-group">
                        <label>–í–∞—à–µ –∏–º—è:</label>
                        <input type="text" id="name" required placeholder="–ò–≤–∞–Ω">
                    </div>
                    <div class="form-group">
                        <label>–¢–µ–ª–µ—Ñ–æ–Ω:</label>
                        <input type="tel" id="phone" required placeholder="+7 (999) 000-00-00">
                    </div>
                    <div class="form-group">
                        <label>–ü–æ–∂–µ–ª–∞–Ω–∏—è:</label>
                        <textarea id="message" rows="3" placeholder="–•–æ—á—É –∫—É—Ö–Ω—é —Å –±–æ—Ä–¥–æ–≤—ã–º–∏ —Ñ–∞—Å–∞–¥–∞–º–∏..."></textarea>
                    </div>
                    <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
                </form>
            </div>
        </section>
    </main>

    <script>
        // ---------------------------------------------------------
        // üëá –í–°–¢–ê–í–¨ –°–í–û–ò –ö–õ–Æ–ß–ò –ù–ò–ñ–ï –í–ù–£–¢–†–ò –ö–ê–í–´–ß–ï–ö üëá
        // ---------------------------------------------------------
        
        const supabaseUrl = 'https://ggesduzstrphqjdufvrw.supabase.co'
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdnZXNkdXpzdHJwaHFqZHVmdnJ3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQxNzA1NDEsImV4cCI6MjA3OTc0NjU0MX0.tpVuKpzlWcMkFC0YmYkq8jXHqEidF7aDoF9gsI0BUpc'

        // ---------------------------------------------------------
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Supabase
        const client = supabase.createClient(supabaseUrl, supabaseKey)

        // –õ–æ–≤–∏–º –æ—Ç–ø—Ä–∞–≤–∫—É —Ñ–æ—Ä–º—ã
        const form = document.getElementById('furniture-form')
        
        form.addEventListener('submit', async function(e) {
            e.preventDefault() // –≠–¢–ê –°–¢–†–û–ß–ö–ê –ó–ê–ü–†–ï–©–ê–ï–¢ –°–¢–†–ê–ù–ò–¶–ï –ü–†–´–ì–ê–¢–¨!

            // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–æ–ª–µ–π
            const nameValue = document.getElementById('name').value
            const phoneValue = document.getElementById('phone').value
            const messageValue = document.getElementById('message').value

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Supabase
            const { data, error } = await client
                .from('requests')
                .insert([
                    { name: nameValue, phone: phoneValue, message: messageValue }
                ])

            if (error) {
                console.error('–û—à–∏–±–∫–∞:', error)
                alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ: ' + error.message)
            } else {
                alert('‚úÖ –°–ø–∞—Å–∏–±–æ! –í–∞—à–∞ –∑–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ –±–∞–∑—É!')
                form.reset() // –û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É
            }
        })
    </script>
</body>
</html>